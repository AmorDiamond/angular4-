<div class="con-hd">
  <button class="btn add-btn" routerLink="/admin/roles/roleManage/-1">新增角色</button>
</div>
<div class="filter">
  <form class="form-inline">
    <div class="form-group">
      <label>角色名称:</label> <input type="text" class="form-control" name="ldapName" [(ngModel)]="rolesListParams.roleName" placeholder="角色名称">
    </div>
    <div class="form-group">
      <label>状态:</label>
      <select class="form-control" id="method" required [(ngModel)]="rolesListParams.status" name="method">
        <option *ngFor="let statu of rolesStatus" [value]="statu.value">{{statu.label}}</option>
      </select>
    </div>
    <div class="filter-bt">
      <button class="btn search-btn" (click)="getRolesList()">搜索</button>
    </div>
  </form>
</div>
<table class="table table-bordered table-hover table-s table-overflow-x">
  <thead>
  <tr class="text-c">
    <th>ID</th>
    <th>角色名称</th>
    <th>创建人</th>
    <th>创建时间</th>
    <th>修改人</th>
    <th>修改时间</th>
    <th>状态</th>
    <th>备注</th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <tr class="text-c ng-scope" *ngFor="let item of rolesList">
    <td class="nowrap">{{item.id | slice:0:6}}***</td>
    <td class="nowrap">{{item.name}}</td>
    <td class="ng-binding">无创建人</td>
    <td class="nowrap">{{item.createDate | date:'yy-MM-dd HH:mm:ss'}}</td>
    <td class="ng-binding">无修改人</td>
    <td class="nowrap">{{item.modifyDate | date:'yy-MM-dd HH:mm:ss'}}</td>
    <td class="nowrap"><span *ngIf="item.status == 'STATUS_NORMAL'" class="green">正常</span><span *ngIf="item.status == 'STATUS_DISABLE'" class="red">禁用</span></td>
    <td class="nowrap">{{item.comment}}</td>
    <td class="f-14">
      <div class="nowrap">
        <a tooltip="编辑" routerLink="/admin/roles/roleManage/{{item.id}}"><i class="fa fa-pencil"></i></a>
        <a tooltip="禁用" *ngIf="item.status == 'STATUS_NORMAL'" href="javascript:void(0)" (click)="disableRole(item.id, false,template)"><i class="fa fa-ban"></i></a>
        <a tooltip="启用" *ngIf="item.status == 'STATUS_DISABLE'" href="javascript:void(0)" (click)="disableRole(item.id, true,template)"><i class="fa fa-check-square"></i></a>
      </div>
    </td>
  </tr>
  </tbody>
</table>
<div class="row">
  <div class="col-xs-12 col-12">
    <pagination [totalItems]="pageParams.bigTotalItems" [itemsPerPage]="pageParams.itemsPerPage" [(ngModel)]="pageParams.bigCurrentPage" [maxSize]="pageParams.maxSize" class="pagination-sm"
                [boundaryLinks]="true" [rotate]="false" previousText="上一页" nextText="下一页" firstText="首页" lastText="末页" (numPages)="pageParams.numPages = $event" (pageChanged)="pageChanged($event)"></pagination>
  </div>
</div>
<ng-template #template>
  <div class="modal-body text-center">
    <p>{{modalMessage}}</p>
    <button type="button" class="btn btn-default" (click)="confirm()" >确认</button>
    <button type="button" class="btn btn-primary" (click)="decline()" >取消</button>
  </div>
</ng-template>
<ng2-toasty [position]="'center-center'"></ng2-toasty>
